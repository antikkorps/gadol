---
// src/components/Showcase.astro
import Icon from './Icon.astro';
---

<section class="py-20 bg-gradient-to-b from-gray-900 to-gray-800">
  <div class="container mx-auto px-6">
    
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 id="showcase-title" class="text-4xl md:text-5xl font-bold mb-6 text-white opacity-0 gsap-ready">
        Découvrez l'expérience
        <span class="bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">Gadol</span>
      </h2>
      <p id="showcase-subtitle" class="text-xl text-gray-300 max-w-2xl mx-auto opacity-0 gsap-ready">
        Plongez dans notre interface révolutionnaire où l'apprentissage devient une aventure visuelle.
      </p>
    </div>

    <!-- Video Player Mockup -->
    <div class="max-w-5xl mx-auto">
      <div id="video-player" class="relative bg-gray-800 rounded-2xl overflow-hidden shadow-2xl transform scale-90 opacity-0 gsap-ready">
        
        <!-- Player Header -->
        <div class="bg-gray-700 px-6 py-4 flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <div class="w-3 h-3 bg-red-500 rounded-full"></div>
            <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
          </div>
          <div class="text-sm text-gray-300 font-medium">
            Réseaux de Neurones - Chapitre 1
          </div>
          <div class="flex items-center space-x-2">
            <button class="w-6 h-6 text-gray-400 hover:text-white transition-colors">
              <Icon name="menu" class="w-6 h-6" />
            </button>
          </div>
        </div>

        <!-- Main Player Area -->
        <div class="relative aspect-video bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center">
          
          <!-- Neural Network Animation -->
          <svg class="w-full h-full max-w-md" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="neuralGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#3B82F6;stop-opacity:0.8" />
                <stop offset="50%" style="stop-color:#8B5CF6;stop-opacity:0.8" />
                <stop offset="100%" style="stop-color:#EC4899;stop-opacity:0.8" />
              </linearGradient>
              <filter id="glow">
                <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                <feMerge> 
                  <feMergeNode in="coloredBlur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            
            <!-- Layer 1 Nodes -->
            <g class="layer-1">
              <circle cx="50" cy="75" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="0s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="0s"/>
              </circle>
              <circle cx="50" cy="150" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="0.5s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="0.5s"/>
              </circle>
              <circle cx="50" cy="225" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="1s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="1s"/>
              </circle>
            </g>

            <!-- Layer 2 Nodes -->
            <g class="layer-2">
              <circle cx="150" cy="60" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="1.5s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="1.5s"/>
              </circle>
              <circle cx="150" cy="120" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="2s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="2s"/>
              </circle>
              <circle cx="150" cy="180" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="2.5s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="2.5s"/>
              </circle>
              <circle cx="150" cy="240" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="0.2s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="0.2s"/>
              </circle>
            </g>

            <!-- Layer 3 Nodes -->
            <g class="layer-3">
              <circle cx="250" cy="90" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="1.2s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="1.2s"/>
              </circle>
              <circle cx="250" cy="150" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="1.8s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="1.8s"/>
              </circle>
              <circle cx="250" cy="210" r="8" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="8;12;8" dur="3s" repeatCount="indefinite" begin="0.8s"/>
                <animate attributeName="opacity" values="0.6;1;0.6" dur="3s" repeatCount="indefinite" begin="0.8s"/>
              </circle>
            </g>

            <!-- Output Layer -->
            <g class="output-layer">
              <circle cx="350" cy="150" r="10" fill="url(#neuralGrad)" filter="url(#glow)" class="neural-node">
                <animate attributeName="r" values="10;15;10" dur="3s" repeatCount="indefinite" begin="2.2s"/>
                <animate attributeName="opacity" values="0.7;1;0.7" dur="3s" repeatCount="indefinite" begin="2.2s"/>
              </circle>
            </g>

            <!-- Connections -->
            <g class="connections" stroke="url(#neuralGrad)" stroke-width="1" fill="none" opacity="0.4">
              <!-- Layer 1 to Layer 2 -->
              <line x1="58" y1="75" x2="142" y2="60">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="0s"/>
              </line>
              <line x1="58" y1="75" x2="142" y2="120">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="0.5s"/>
              </line>
              <line x1="58" y1="150" x2="142" y2="120">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="1s"/>
              </line>
              <line x1="58" y1="150" x2="142" y2="180">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="1.5s"/>
              </line>
              <line x1="58" y1="225" x2="142" y2="180">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="2s"/>
              </line>
              <line x1="58" y1="225" x2="142" y2="240">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="2.5s"/>
              </line>
              
              <!-- Layer 2 to Layer 3 -->
              <line x1="158" y1="60" x2="242" y2="90">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="1s"/>
              </line>
              <line x1="158" y1="120" x2="242" y2="90">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="1.3s"/>
              </line>
              <line x1="158" y1="120" x2="242" y2="150">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="1.6s"/>
              </line>
              <line x1="158" y1="180" x2="242" y2="150">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="1.9s"/>
              </line>
              <line x1="158" y1="180" x2="242" y2="210">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="2.2s"/>
              </line>
              <line x1="158" y1="240" x2="242" y2="210">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="2.5s"/>
              </line>
              
              <!-- Layer 3 to Output -->
              <line x1="258" y1="90" x2="342" y2="150">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="2s"/>
              </line>
              <line x1="258" y1="150" x2="342" y2="150">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="2.3s"/>
              </line>
              <line x1="258" y1="210" x2="342" y2="150">
                <animate attributeName="opacity" values="0.2;0.8;0.2" dur="4s" repeatCount="indefinite" begin="2.6s"/>
              </line>
            </g>
          </svg>

          <!-- Play Button Overlay -->
          <div class="absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 cursor-pointer">
            <div class="w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center transform hover:scale-110 transition-transform duration-300">
              <Icon name="play" class="w-8 h-8 text-white ml-1" />
            </div>
          </div>
        </div>

        <!-- Player Controls -->
        <div class="bg-gray-700 px-6 py-4">
          <div class="flex items-center space-x-4">
            <button class="text-white hover:text-blue-400 transition-colors">
              <Icon name="play" class="w-5 h-5" />
            </button>
            
            <div class="flex-1 bg-gray-600 rounded-full h-2 relative">
              <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full w-1/3"></div>
              <div class="absolute top-0 left-1/3 transform -translate-x-1/2 w-4 h-4 bg-white rounded-full -mt-1 shadow-lg"></div>
            </div>
            
            <span class="text-sm text-gray-300">02:34 / 07:42</span>
            
            <button class="text-white hover:text-blue-400 transition-colors">
              <Icon name="progress" class="w-5 h-5" />
            </button>
          </div>
        </div>

      </div>
    </div>

  </div>
</section>

<script>
  import { fadeInUp, scaleIn } from '../utils/animations';
  
  // Animations des titres
  fadeInUp('#showcase-title');
  fadeInUp('#showcase-subtitle', 0.3);
  
  // Animation du player vidéo
  scaleIn('#video-player');
</script>